% Contains user definitions %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% lengths
\newlength{\figurewidth}
\setlength{\figurewidth}{\linewidth}

\newlength{\subfigurewidth}
\setlength{\subfigurewidth}{0.5\textwidth}

% text arrangement
\newcommand{\tstack}[2]{$\substack{\text{\normalsize #1}\\\text{\tiny #2}}$} % stack two lines

% borders
\newcommand{\mytopmargin}[1]{\newgeometry{top=3cm}#1\restoregeometry}
\newcommand{\tinytopmargin}[1]{\newgeometry{top=1cm}#1\restoregeometry}

\newcommand{\tmpcapskip}[1]{
    \setlength{\abovecaptionskip}{5pt}
    \setlength{\belowcaptionskip}{5pt}
    #1
    \setlength{\abovecaptionskip}{10pt}
    \setlength{\belowcaptionskip}{0pt}
}

 % other
\newcommand{\todo}[1]{{\color[RGB]{190, 130, 130} \textbf{TODO }\textit{#1}}}
\newcommand{\of}[1]{\left(#1\right)}    % 'function of', i.e. (x) with proper parenthesis
\newcommand{\E}[1]{\cdot 10^{#1}}
\newcommand{\bone}{\textcolor{blue}{Beam 1}}
\newcommand{\btwo}{\textcolor{red}{Beam 2}}


% Flowcharts
\usetikzlibrary{arrows, shapes, calc, positioning}
\tikzstyle{base} = [text=white, text centered, minimum width=1em, minimum height=1em]
\tikzstyle{startstop} = [base, ellipse, fill=CernRed!90, draw=CernRed!200]
\tikzstyle{io} = [base, trapezium, trapezium left angle=70, trapezium right angle=110, fill=CernNiceBlue, draw=CernBlue!200]
\tikzstyle{process} = [base, rectangle, rounded corners, fill=AtlasOrange!90, draw=AtlasOrange!200]
% \tikzstyle{process} = [base, rectangle, rounded corners, fill=CernYellow!90, draw=CernYellow!200]
\tikzstyle{test} = [base, signal, signal to=east and west, fill=GreenBellPepper!90, draw=GreenBellPepper!200]
% \tikzstyle{test} = [base, signal, signal to=east and west, fill=CernLightGreen!90, draw=CernLightGreen!200]
\tikzstyle{arrow} = [->, >=latex]

% Other
\newcommand\drawRect[5]{%
    \def\top{#1}
    \def\left{#2}
    \def\right{#3}
    \def\bottom{#4}
    \begin{tikzpicture}[remember picture, overlay]
        \draw[#5, thick] (\left,\top) -- (\right,\top) -- (\right,\bottom) -- (\left,\bottom) -- cycle;    
    \end{tikzpicture}
}

% Own commands and environments ---

\newcommand{\pro}[1]{\\\hspace{1em}{\color{GreenBellPepper}\textbf{+} #1}}
\newcommand{\con}[1]{\\\hspace{1em}{\color{CernRed}\hspace{.1em}\textbf{--}\hspace{.2em} #1}}
\newcommand{\sep}{\\\hspace{1em}{- - -}}

\newcommand{\tcern}[1]{\textcolor{cern}{#1}}
\newcommand{\bfcern}[1]{\tcern{\bf#1}}
\newcommand{\headline}[2][0em]{{\LARGE \tcern{#2}\\\vspace{#1}}}
\newcommand{\beamone}{\textcolor{blue}{Beam 1}}
\newcommand{\beamtwo}{\textcolor{red}{Beam 2}}

\newcommand{\fof}[1]{\left(#1\right)}
\newcommand{\textAD}[2]{$\partial$Q$_{#1}$/$\partial$2J$_{#2}$}

\newenvironment{wider}[1][10pt]{
    \begin{columns}
        \column{\dimexpr\paperwidth-#1}
    }{
      \end{columns}%
}

% \setlength{\abovecaptionskip}{-5em}
% \setlength{\belowcaptionskip}{-5em}